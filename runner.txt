RUNNER
======

Can run code for custom functionality in the system.

Two ways to do this:

Liquid tags
-----------
{% runner permalink:"some_code", foo:1, bar:"2", zee:params.id, name:"some_name" %}

Will return {{runner}} or {{some_name}}, which can be numeric, map, list, binary.

URL Endpoint
------------
Verbs:
GET/POST/PUT/PATCH

Path:
/xr/:permalink

In your runner, you return:

To redirect after the work:
{:redirect, "https://someurl"}

To spit out JSON (good for ad-hoc API's):
{:json, %{foo: 1}}

Spit out text:
{:text, "hello world"}

Spit out HTML:
{:html, "<h1>hello world</h1>"}

Fully render a template with associated layout and included context:
{:render, {"/home", %{foo: 1, bar: "2"}}}

Send a download with a given filename:
{:download, {"some binary content", "file.txt"}}

Only enhanced admins can create and edit runners.

ENVIRONMENT
-----------

In the URL endpoint runner, the params variable contains:
params[:conn]
params[:site]
params[:user_site] (if available)
params["xxxx"] - everything else that was passed in by the user

In the Liquid runner, the params variable contains
params[:context] - the liquid context
params[:site]
params[:user_site] (if available)
params["xxxxx"] - everything else that was passed in with the liquid tag
